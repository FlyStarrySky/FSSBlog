<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        .hander-banner{
            width:100vw;
            height:200px;
        }
    </style>
</head>
<body>
    <div class="hander-banner"></div>
    <div id = "app" style = "position: absolute; left: 1000px; top: 100px"></div>


    <script src="../Js/pixi.sj"></script>
    <script src="../Js/pixi-spine.js"></script>

    <script type="text/javascript">
      let type = "WebGL"
      if(!PIXI.utils.isWebGLSupported()){
        type = "canvas"
      }
  
      PIXI.utils.sayHello(type)
    </script>
    
   
    
    <script>
        //Create a Pixi Application 创建一个应用  对象
        var app = new PIXI.Application({
          backgroundColor:0xFFFFFF,   //背景色
          antialias:true,             //抗锯齿
          width:400,
          height:500
        });

        //将对象显示到窗口
        //document.body.appendChild(app.view);
        document.getElementById('app').appendChild(app.view);

        //加载Json数据
        let loader = PIXI.loader.add('aili','../images/爱莉.json')
               
        loader.load((loader,res)=>{
          let aili = new PIXI.spine.Spine(res.aili.spineData),
          options = [''];
          aili.state.setAnimation(0,'idel',true);//loop你的动画名字 true 为循环播放
          aili.x = 150;
          aili.y = 500;
          app.stage.addChild(aili);
            
          // create new empty skin  创建新的空皮肤
          const newSkin = new PIXI.spine.core.Skin("Myskin");
            
          // add base skin  加入基础皮肤
          newSkin.addSkin(aili.spineData.findSkin("Base—戴头盔"));
            
          // add parital skins over base     加入其余皮肤
          newSkin.addSkin(aili.spineData.findSkin("皮肤/女仆服"));
          newSkin.addSkin(aili.spineData.findSkin("头饰/发饰1"));

          //设置皮肤
          aili.skeleton.setSkin(newSkin); 
        
          //Reset slots to remove not used attachments  
          aili.skeleton.setSlotsToSetupPose();
        }); 
      </script>
</body>
</html>
